import  {GoogleGenerativeAI} from "@google/generative-ai";
  
  // const apiKey = import.meta.env.GOOGLE_AI_API_KEY;
  const apiKey = "AIzaSyC4I15AkINZ-M9oI5I-ckzMYGXQn_feVJE";

  console.log(apiKey)

  const genAI = new GoogleGenerativeAI("AIzaSyC4I15AkINZ-M9oI5I-ckzMYGXQn_feVJE");
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 38,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas , for 3 days for Couple with a cheap budget , Give me a Hotels Options list with Hotel Name , Hotel Address , Price, hotel image Url  , geo  coordinates, rating, descriptions and suggest itinerary with placename , place details , place image Url , geo coordinates , ticket pricing , time & travel each of the location for 3 days  with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"The D Las Vegas\",\n      \"hotel_address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/3000000/2990000/2985000/2984500/2984485.jpg\",\n      \"geo_coordinates\": [36.1699, -115.1421],\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering rooms with basic amenities and a casino.\"\n    },\n    {\n      \"hotel_name\": \"Golden Nugget Las Vegas\",\n      \"hotel_address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$70 - $150 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/3000000/2990000/2986000/2985600/2985517.jpg\",\n      \"geo_coordinates\": [36.1698, -115.1413],\n      \"rating\": 4.0,\n      \"description\": \"A historic hotel with a lively casino, a pool, and a variety of dining options. Offers rooms with modern amenities and a prime location on Fremont Street.\"\n    },\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/3000000/2990000/2989000/2988500/2988463.jpg\",\n      \"geo_coordinates\": [36.1177, -115.1724],\n      \"rating\": 3.0,\n      \"description\": \"A budget-friendly option on the Strip known for its circus-themed attractions, carnival games, and a large casino.\"\n    },\n    {\n      \"hotel_name\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotel_address\": \"2000 Las Vegas Blvd S, Las Vegas, NV 89104\",\n      \"price\": \"$60 - $120 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/hotels/3000000/2990000/2988000/2987000/2986988.jpg\",\n      \"geo_coordinates\": [36.1289, -115.1692],\n      \"rating\": 3.5,\n      \"description\": \"A hotel with a focus on entertainment and an observation deck offering panoramic views of the city. Provides rooms with modern amenities and an on-site casino.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day_1\": {\n      \"plan\": [\n        {\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"A pedestrian mall with a giant video screen, live entertainment, and street performers.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1895/freemont-street-experience.jpg\",\n          \"geo_coordinates\": [36.1699, -115.1421],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"10:00 AM - 1:00 PM\",\n          \"travel\": \"Walk or take a short taxi ride from your hotel.\"\n        },\n        {\n          \"place_name\": \"Neon Museum\",\n          \"place_details\": \"A museum showcasing vintage neon signs from Las Vegas's past.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/2680/neon-museum.jpg\",\n          \"geo_coordinates\": [36.1703, -115.1348],\n          \"ticket_pricing\": \"$25 per person\",\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"travel\": \"A short taxi or bus ride from Fremont Street.\"\n        },\n        {\n          \"place_name\": \"Arts District\",\n          \"place_details\": \"A vibrant neighborhood with art galleries, murals, and trendy restaurants.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/2260/arts-district.jpg\",\n          \"geo_coordinates\": [36.1675, -115.1321],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"5:00 PM - 7:00 PM\",\n          \"travel\": \"Walk or take a short taxi ride from the Neon Museum.\"\n        },\n        {\n          \"place_name\": \"El Cortez Hotel & Casino\",\n          \"place_details\": \"A historic casino with a vintage atmosphere and a rooftop bar with great views.\" ,\n          \"place_image_url\": \"https://www.elcortezhotelcasino.com/images/header/el-cortez-hotel-casino-las-vegas-header.jpg\",\n          \"geo_coordinates\": [36.1684, -115.1427],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"8:00 PM - 10:00 PM\",\n          \"travel\": \"Walk from the Arts District.\"\n        }\n      ]\n    },\n    \"day_2\": {\n      \"plan\": [\n        {\n          \"place_name\": \"Hoover Dam\",\n          \"place_details\": \"A massive dam and engineering marvel located about an hour drive from Las Vegas.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1422/hoover-dam.jpg\",\n          \"geo_coordinates\": [36.0042, -114.9791],\n          \"ticket_pricing\": \"$30 per person\",\n          \"time\": \"10:00 AM - 2:00 PM\",\n          \"travel\": \"Rent a car or take a guided tour.\"\n        },\n        {\n          \"place_name\": \"Red Rock Canyon National Conservation Area\",\n          \"place_details\": \"A scenic area with red rock formations, hiking trails, and stunning views.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/2595/red-rock-canyon-national-conservation-area.jpg\",\n          \"geo_coordinates\": [36.1408, -115.2553],\n          \"ticket_pricing\": \"$15 per vehicle\",\n          \"time\": \"3:00 PM - 5:00 PM\",\n          \"travel\": \"Drive from Hoover Dam.\"\n        },\n        {\n          \"place_name\": \"The Strip\",\n          \"place_details\": \"Las Vegas's main entertainment district with world-class casinos, hotels, and shows.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1049/las-vegas-strip.jpg\",\n          \"geo_coordinates\": [36.1146, -115.1725],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"6:00 PM - 10:00 PM\",\n          \"travel\": \"Drive or take a taxi from Red Rock Canyon.\"\n        }\n      ]\n    },\n    \"day_3\": {\n      \"plan\": [\n        {\n          \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"A stunning botanical garden with themed displays and floral sculptures.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1152/bellagio-conservatory-and-botanical-garden.jpg\",\n          \"geo_coordinates\": [36.1118, -115.1737],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"10:00 AM - 12:00 PM\",\n          \"travel\": \"Walk or take a short taxi ride from your hotel on the Strip.\"\n        },\n        {\n          \"place_name\": \"The Venetian and The Palazzo\",\n          \"place_details\": \"Luxury hotels with a Venetian theme, featuring canals, gondolas, and a replica of St. Mark's Square.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1089/the-venetian-and-the-palazzo.jpg\",\n          \"geo_coordinates\": [36.1169, -115.1756],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"1:00 PM - 3:00 PM\",\n          \"travel\": \"Walk along the Strip.\"\n        },\n        {\n          \"place_name\": \"High Roller Observation Wheel\",\n          \"place_details\": \"A giant observation wheel offering panoramic views of the city.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1365/high-roller-observation-wheel.jpg\",\n          \"geo_coordinates\": [36.1169, -115.1761],\n          \"ticket_pricing\": \"$30 per person\",\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"travel\": \"Walk or take a short taxi ride.\"\n        },\n        {\n          \"place_name\": \"The LINQ Promenade\",\n          \"place_details\": \"A shopping and dining district with a lively atmosphere and entertainment options.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/media/1676/the-linq-promenade.jpg\",\n          \"geo_coordinates\": [36.1173, -115.1755],\n          \"ticket_pricing\": \"Free\",\n          \"time\": \"7:00 PM - 9:00 PM\",\n          \"travel\": \"Walk from the High Roller.\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Explanation:**\n\n- **hotel_options:** Provides a list of budget-friendly hotel options in Las Vegas with relevant information like hotel name, address, price range, image URL, geo coordinates, rating, and a brief description.\n- **itinerary:** Suggests a 3-day itinerary for a couple with a focus on free or low-cost activities. \n  - **day_1:** Features attractions in downtown Las Vegas, including Fremont Street Experience, Neon Museum, and the Arts District.\n  - **day_2:** Includes a trip to Hoover Dam, a scenic drive through Red Rock Canyon, and an evening on the Strip.\n  - **day_3:** Focuses on attractions along the Strip, such as the Bellagio Conservatory, The Venetian, the High Roller, and The LINQ Promenade.\n- **Each place in the itinerary** includes:\n  - **place_name:** The name of the attraction.\n  - **place_details:** A short description of the attraction.\n  - **place_image_url:** A link to an image of the attraction.\n  - **geo_coordinates:** Coordinates for the attraction.\n  - **ticket_pricing:** An estimated cost of admission (if applicable).\n  - **time:** Suggested time for visiting the attraction.\n  - **travel:** Suggested travel options to reach the attraction from the previous location.\n\n**Note:**\n\n- This itinerary is a suggestion, and you can customize it based on your interests and preferences.\n- Prices are estimates and may vary depending on the season and availability.\n- Always check official websites for the latest information and updates on ticket prices, opening hours, and travel options.\n- Consider using public transportation, walking, or ride-sharing services to minimize transportation costs.\n- Look for free attractions and activities, such as walking tours, street performances, and free shows.\n- Pack light to avoid luggage fees and keep your belongings secure.\n"},
          ],
        },
      ],
    });
  